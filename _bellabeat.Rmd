---
title: "BellaBeat Case Study"
author: "poorna"
date: "2024-06-07"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Bellabeat Case Study — Google Data Analytics

### Introduction

Bellabeat is a technology-driven wellness company that focuses on developing cutting-edge products that enable women to live more balanced, healthier lives. Bellabeat, which was founded in 2014 by Urska Srsen and Sandro Mur, rose to fame with its main offering, the Bellabeat Leaf, a wearable that monitors women's stress levels, sleep patterns, and menstrual cycles.The goal of the organization is to use technology to support holistic wellbeing, with an emphasis on women's health in particular. Bellabeat's products are renowned for their sophisticated designs that easily integrate into commonplace accessories like jewelry or clips, giving them a dual purpose of being fashionable and functional.

Bellabeat has added other wellness-focused products and services to its lineup in addition to the Leaf, like the Bellabeat app, which offers individualized advice and insights based on user data, and the Bellabeat Spring water bottle, which monitors hydration levels.

Bellabeat has gained recognition for its inventive products as well as for its dedication to advancing a holistic strategy for health and wellness that includes stress reduction, mental health, and physical exercise. Bellabeat continues to encourage women to take charge of their health and well-being through its products, bridging the gap between wellness and technology in an approachable and fashionable manner.

### Ask Phase

#### Business Task

The key business task is to analyze user data to understand engagement patterns, track health metrics, and optimize features. By evaluating user demographics, retention rates, and market trends, Bellabeat aims to enhance its products, improve user satisfaction, and drive business growth through data-driven insights.

#### Business Questions

1.What are the latest patterns in smart device usage?

2.How might these patterns relate to Bellabeat's clientele?

3.How are users reacting to new smart device trends, and how do these trends impact Bellabeat's product and marketing strategies?

#### Key Stakeholders:

* Urška Sršen  - Bellabeat’s co founder and Chief Creative Officer

* Sandro Mur - Mathematician and Bellabeat cofounder; key member of the Bellabeat executive team

* Bellabeat marketing analytics team - A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy.

### Prepare Phase

This analysis uses a public dataset from kaggle called  [FitBit Fitness Tracker](https://www.kaggle.com/datasets/arashnic/fitbit) data. This dataset was generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. Individual reports can be parsed by export session ID (column A) or timestamp (column B). Variation between output represents use of different types of Fitbit trackers and individual tracking behaviors / preferences.


#### ROCCC Analysis

Reliable:  The absence of demographic data raises concerns about the data's reliability as it may affect the sample's representativeness and correctness. It is difficult to determine whether the data is genuinely representative of the larger population in the absence of demographic information.

Originality:  The fact that the data was gathered from Amazon Mechanical Turk, a third-party source, contributes to its low originality. Although this platform is frequently used to gather data, it casts doubt on the veracity and caliber of the answers. Furthermore, the uniqueness of the dataset may be further reduced if it has been utilized in several research or analyses.

Comprehensive:  The data is quite thorough since it includes individual health information, which permits in-depth examination and new perspectives on a range of wellness and health-related topics. There are many opportunities to answer business challenges and draw insightful conclusions thanks to the richness of the data.

Current:  Because the data was gathered between December 3, 2016, and December 5, 2016, it has a low currentness. The age of the data may affect its application and relevance to current events, depending on the study and context.

Cited:  Due to Amazon Mechanical Turk's extensive documentation, the data has a high citation count. Clear documentation of the data source improves openness and makes it possible for any analysis or study that uses the dataset to provide due credit.

### Process phase

R Studio was used to complete this analysis because of the many packages and data visualization features available to explore the data with.

```{r Loading all necessary packages}
options(repos = c(CRAN = "https://cloud.r-project.org"))
install.packages("tidyverse")
install.packages("here")
install.packages("janitor")
install.packages("dplyr")
install.packages("skimr")
install.packages("ggrepel")

library(ggrepel)
library("tidyverse")
library("here")
library("dplyr")
library("janitor")
library("skimr")

```
The files were  imported into R Studio and the data frames were created with simplified names.

```{r Importing dataset}
setwd("C:/Users/FIONA_SHREK/Documents/Bellabeat/mturkfitbit_export_4.12.16-5.12.16/Fitabase Data 4.12.16-5.12.16")


library(readr)
dailyActivity <- read_csv("dailyActivity_merged.csv")
dailyCalories <- read_csv("dailyCalories_merged.csv")
dailyIntensities <- read_csv("dailyIntensities_merged.csv")
dailySteps <- read_csv("dailySteps_merged.csv")
heartrate_seconds <- read_csv("heartrate_seconds_merged.csv")
minuteMETsNarrow<- read_csv("minuteMETsNarrow_merged.csv")
sleepDay <- read_csv("sleepDay_merged.csv")
weightLogInfo <- read_csv("weightLogInfo_merged.csv")
h_intensitie  <- read.csv("hourlyIntensities_merged.csv")
hourly_calories <- read.csv("hourlyCalories_merged.csv")
hourly_steps <- read.csv("hourlySteps_merged.csv")

```

```{r Exploring the data      daily_activity}
head(dailyActivity)

```
```{r  daily_calories}
head(dailyCalories)
```

```{r daily_intensities}
head(dailyIntensities)
```

```{r daily_steps}
head(dailySteps)
```


```{r hearterate_seconds}
head(heartrate_seconds)
```


```{r minute_METS}
head(minuteMETsNarrow)
```


```{r sleep_day}
head(sleepDay)
```

```{r weight_log}
head(weightLogInfo)
```

```{r Cleaning the data -- checking for duplicate and null values}
sum(duplicated(sleepDay))
sleepDay_cleaned <- sleepDay %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(sleepDay_cleaned))

sum(duplicated(weightLogInfo))
weightLogInfo_cleaned <- weightLogInfo %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(weightLogInfo_cleaned))

sum(duplicated(dailyActivity))
dailyActivity_cleaned <- dailyActivity %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(dailyActivity_cleaned))

sum(duplicated(dailyCalories))
dailyCalories_cleaned <- dailyCalories %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(dailyCalories_cleaned))

sum(duplicated(dailyIntensities))
dailyIntensities_cleaned <- dailyIntensities %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(dailyIntensities_cleaned))


sum(duplicated(dailySteps))
dailySteps_cleaned <- dailySteps %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(dailySteps_cleaned))

sum(duplicated(heartrate_seconds))
heartrate_seconds_cleaned <- heartrate_seconds %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(heartrate_seconds_cleaned))


sum(duplicated(minuteMETsNarrow))
minuteMETsNarrow_cleaned <- minuteMETsNarrow %>% 
  distinct() %>% 
  drop_na()

sum(duplicated(minuteMETsNarrow_cleaned))

sum(duplicated(h_intensitie))
h_intensitie <- h_intensitie %>% 
  distinct() %>% 
  drop_na()
sum(duplicated(h_intensitie))

sum(duplicated(hourly_calories))
hourly_calories <- hourly_calories %>% 
  distinct() %>% 
  drop_na()
sum(duplicated(hourly_calories))

sum(duplicated(hourly_steps))
hourly_steps <- hourly_steps %>% 
  distinct() %>% 
  drop_na()
sum(duplicated(hourly_steps))

```



```{r Correcting the formats}
dailyActivity_cleaned$Date<-as.Date(dailyActivity_cleaned$ActivityDate, "%m/%d/%Y")
dailyActivity_cleaned$Id<-as.character(dailyActivity_cleaned$Id)

h_intensitie$ActivityHour=as.POSIXct(h_intensitie$ActivityHour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
h_intensitie$time <- format(h_intensitie$ActivityHour, format = "%H:%M:%S")
h_intensitie$date <- format(h_intensitie$ActivityHour, format = "%m/%d/%y")

hourly_calories$ActivityHour=as.POSIXct(hourly_calories$ActivityHour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
hourly_calories$time <- format(hourly_calories$ActivityHour, format = "%H:%M:%S")
hourly_calories$date <- format(hourly_calories$ActivityHour, format = "%m/%d/%y")

sleepDay_cleaned$SleepDay=as.POSIXct(sleepDay_cleaned$SleepDay, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
sleepDay_cleaned$Date <- format(sleepDay_cleaned$SleepDay, format = "%m/%d/%y")

```

### Analyze Phase

This section involves transforming and organizing the cleaned data to identify patterns and address key questions relevant to our business task. The results were visualized and interpreted to facilitate data-driven decisions.

#### Finding the number of participants
```{r}
print(paste(n_distinct(dailyActivity_cleaned$Id), "unique individuals in activity"))
print(paste(n_distinct(h_intensitie$Id), "unique individuals in intensities"))
print(paste(n_distinct(sleepDay_cleaned$Id), "unique individuals in sleep"))
print(paste(n_distinct(weightLogInfo_cleaned$Id), "unique individuals in weight"))
```


```{r summary of daily dataframes}
print("-----Daily Calories-----")
dailyActivity_cleaned %>% 
  select(Calories) %>% 
  drop_na() %>% 
  summary()

print("-----Daily Intensities-----")
dailyActivity_cleaned %>% 
  select(SedentaryMinutes, LightlyActiveMinutes, FairlyActiveMinutes, VeryActiveDistance) %>% 
  drop_na() %>% 
  summary()

print("-----Daily Steps-----")
dailyActivity_cleaned %>% 
  select(TotalSteps) %>% 
  drop_na() %>% 
  summary()

print("-----Daily Sleep-----")
sleepDay_cleaned %>% 
  select(TotalSleepRecords, TotalMinutesAsleep, TotalTimeInBed) %>% 
  drop_na() %>% 
  summary()

```

This daily_activity  summary shows the average user is taking 7638 steps a day, missing the recommended 10,000 steps for health by the CDC. On average, users are getting 21.16 minutes of very active or vigorous activity a day, this equates to 148.12 minutes a week. The CDC recommends 75 minutes of vigorous activity a week, so the typical Fitbit user is doing well in this area and achieving additional health benefits. In contrast, participants are averaging 991.2 minutes, or 16.52 hours of sedentary time a day! This is a significant amount of time and can lead to other health issues because the body functions best upright. Scientists have determined that 40 minutes of moderate to vigorous activity a day will balance out the effects of sitting up to 10 hours a day. Furthermore, this summary shows the average user is burning 2304 calories a day. Studies show the average person in the population burns 1800 calories a day, but burning 3500 is needed to lose a pound of weight. The Fitbit users in this case are burning more than the norm, and are on track to lose a few pounds a week if they so choose.

```{r Summary of Hourly Data Frames}
print("-----Hourly Calories-----")
hourly_calories %>% 
  select(Calories) %>% 
  drop_na() %>% 
  summary()

print("-----Hourly Intensities-----")
h_intensitie %>% 
  select(TotalIntensity, AverageIntensity) %>% 
  drop_na() %>% 
  summary()

print("-----Hourly Steps-----")
hourly_steps %>% 
  select(StepTotal) %>% 
  drop_na() %>% 
  summary()

```

```{r hearrate_second summary}
heartrate_seconds_cleaned %>% select(Value) %>% summary()
```

Despite the low number of users in the heart rate data frame, the average heartrate of 77 beats per minute (bpm) fits within the “normal” range. Normal is considered to be between 50 to 80 bpm for men, and 53 to 82 bpm for women. However, research suggests that it is more important for individuals to determine what is a normal and healthy heartrate for them, and not compare to population levels. This is because resting heart rates between different people can vary by as much as 70 bpm. Changes in resting heartrate over days can be a sign of infection, menstrual cycle effects, or other acute triggers. Thus, making heartrate a vital health characteristic to monitor.

```{r minute_METs}
minuteMETsNarrow_cleaned %>%  select(METs) %>% summary()
```

The summary of minute METs shows the average user has a MET of 14.47. A MET is the ratio of your working metabolic rate relative to your resting metabolic rate. One MET is the energy you use when at rest. This means an activity with a MET of four, would require a person to exert four times the energy they do when they are sitting. Therefore, a user averaging 14.47 MET throughout the day is considerably high, which leads to the assumption that the Fitbit is not calculating this data point correctly. Due to this, the minute MET data frame will not be used further in this analysis.

```{r weight log}
weightLogInfo_cleaned %>%  select(WeightPounds,BMI) %>% summary()
```

While this data frame has a low number of participants, the average BMI is 25.19. This is considered an overweight BMI. However, BMI can be a screening tool and does not diagnose the body fatness or health of an individual.

### Share phase

The RStudio ggplot() function was utilized to generate data visualizations that illustrate the patterns and trends identified within the data frames.

```{r}
ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = VeryActiveMinutes, y = Calories)) + 
  geom_smooth(aes(x = VeryActiveMinutes, y = Calories), method = "lm") +
  labs(title = "Relationship between Very Active Minutes and Calories")
```

The above plot depicts a a correlation of +55 between minutes of intense activity and daily caloric expenditure. This implies that the person burned more calories the more vigorously they engaged in physical exercise.

```{r}
ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = TotalSteps, y = Calories)) + 
  geom_smooth(aes(x = TotalSteps, y = Calories), method = "lm") +
  labs(title = "Relationship between TotalSteps and Calories")
```

The above plot depicts the overall steps taken each day and total calories burned have a positive correlation. This implies that Fitbit users burnt more calories the more steps they took.

```{r}
ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = TotalDistance, y = Calories)) + 
  geom_smooth(aes(x = TotalDistance, y = Calories), method = "lm") +
  labs(title = "Relationship between TotalDistance and Calories")
```

The above plot shows a positive trend between total distance and total daily calories burned. As the participants moved a greater distance, the number of calories they burned also increased.
```{r}
activity_summary <- colSums(dailyActivity_cleaned[, c("VeryActiveMinutes", "FairlyActiveMinutes", "LightlyActiveMinutes", "SedentaryMinutes")])

activity_data <- data.frame(
  ActivityLevel = names(activity_summary),
  Minutes = activity_summary
)

activity_data <- activity_data %>%
  mutate(Percentage = round((Minutes / sum(Minutes)) * 100, 1))
activity_data$Label <- paste0(activity_data$ActivityLevel, ": ", activity_data$Percentage, "%")


custom_colors <- c("VeryActiveMinutes" = "#FFB3B3",  
                  "FairlyActiveMinutes" = "#B3FFB3", 
                  "LightlyActiveMinutes" = "#B3B3FF", 
                  "SedentaryMinutes" = "#FFFFB3")    



ggplot(activity_data, aes(x = "", y = Minutes, fill = ActivityLevel)) +
  geom_bar(width = 1, stat = "identity") +
  coord_polar(theta = "y") +
  labs(title = "Activity Levels in Daily Activity") +
  scale_fill_manual(values = custom_colors) +
  theme_void() +
  theme(legend.title = element_blank()) +
  geom_text_repel(aes(label = Label, y = Minutes / 2, x = 1), 
                  direction = "y", nudge_x = 0.2, nudge_y = 0.2,
                  segment.color = "grey50", segment.size = 0.5)



```

* During the course of the study, a significant number of participants 81.3% maintained a sedentary lifestyle. This is concerning because chronic physical inactivity has been linked to a number of illnesses and diseases, including as diabetes, heart disease, and several types of cancer.
* Over the course of the 31-day period, only 2.8% of participants engaged in fair (1.1%) and highly (1.7%) physical activity. This low number implies that a small percentage of Fitbit users used the gadget primarily to track their exercise, with the bulk probably using it to track their daily routines.
* It is plausible that a considerable number of participants work in offices or in jobs that mostly require sitting down.More than 80 percent of US jobs require little physical exertion or involve extended sitting.

#### Correlation between Activity Levels and Calories Burnt per Day
```{r}
ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = LightlyActiveMinutes, y = Calories)) + 
  geom_smooth(aes(x = LightlyActiveMinutes, y = Calories), method = "lm") +
  labs(title = "Relationship between LightlyActiveMinutes and Calories")

ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = FairlyActiveMinutes, y = Calories)) + 
  geom_smooth(aes(x = FairlyActiveMinutes, y = Calories), method = "lm") +
  labs(title = "Relationship between FairlyActiveMinutes and Calories")

ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = SedentaryMinutes, y = Calories)) + 
  geom_smooth(aes(x = SedentaryMinutes, y = Calories), method = "lm") +
  labs(title = "Relationship between SedentaryMinutes and Calories")


ggplot(data = dailyActivity_cleaned) + 
  geom_point(aes(x = VeryActiveMinutes, y = Calories)) + 
  geom_smooth(aes(x = VeryActiveMinutes, y = Calories), method = "lm") +
  labs(title = "Relationship between VeryActiveMinutes and Calories")
```

* Participants burnt more calories when they were more active, while those who were less active burned less calories.
* Very Active Minutes and Burnt Calories have a moderate amount of correlation, as seen by the 0.61 correlation coefficient. Furthermore, this link is extremely statistically significant with a p-value of 0.
* Even though the least active groups were fairly active and very active, people in these activity levels burnt more calories than people in sedentary and weakly active levels.

```{r}
ggplot(data = sleepDay_cleaned) + 
  geom_point(aes(x = TotalMinutesAsleep, y = TotalTimeInBed)) + 
  geom_smooth(aes(x = TotalMinutesAsleep, y = TotalTimeInBed), method = "lm") +
  labs(title = "Relationship between TotalMinutesAsleep and TotalTimeInBed")

```

* There exists a linear relationship between Total Minutes Asleep and Total Time in Bed. So, in order to improve our customers' sleep, we can send them notification to go to sleep. 
##### **Studying the relationship between Intensity and Time.**
```{r}
int_new <- h_intensitie %>%
  group_by(time) %>%
  drop_na() %>%
  summarise(mean_total_int = mean(TotalIntensity))

ggplot(data=int_new, aes(x=time, y=mean_total_int)) + geom_histogram(stat = "identity", fill='darkblue') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Average Total Intensity vs. Time")

```

* From the graph, we can conclude that people are more active between 5 am and 10 pm. 
* Most activity happens between 5 pm and 7 pm. During this window, Bellabeat app can remind and motivate user to go for a run or walk. 

```{r}
combined_sleep_activity <- merge(sleepDay_cleaned, dailyActivity_cleaned, by='Id')
head(combined_sleep_activity)
ggplot(data = combined_sleep_activity) + 
  geom_point(aes(x = TotalMinutesAsleep, y = SedentaryMinutes)) + 
  geom_smooth(aes(x = TotalMinutesAsleep, y = SedentaryMinutes), method = "lm") +
  labs(title = "Relationship between TotalMinutesAsleep and SedentaryMinutes")
```


* From the graph, we can conclude that there exists a negative relationship between Minutes Asleep and Sedentary Minutes. 
* To improve our customers' sleep, Bellabeat app can recommend reducing sedentary time. 
* To further analyse the situation, we need more data. 

```{r Relationship between Hourly Calorie Burn and Total steps }

combined_steps_calories <- merge(dailySteps, hourly_calories, by="Id")
glimpse(combined_steps_calories)

ggplot(data = combined_steps_calories,aes(x = Calories, y = StepTotal)) + geom_jitter()+
  geom_smooth(aes(x = Calories, y = StepTotal), method = "lm") +
  labs(title = "Hourly Calorie Burn and Hourly Step Count")
```
* From the graph, we can see that there exists a positive relationship between Calorie burn and Steps.

#### Key findings

* Total Steps and Calories have a positive relationship; most individuals are somewhat active. 
* Total Time in Bed and Total Minutes Asleep have a favorable relationship. 
* The hours of 5 and 7 pm are when people are most active. 
* There is a negative correlation between sleep duration and sedentary minutes.    



### Act Phase

Since its launch, Bellabeat has empowered women by offering information about their levels of activity, sleep, stress, hydration, and reproductive health. Bellabeat's growth can be encouraged by making recommendations based on an analysis of Fitbit users' behavior and feature responses.

The Bellabeat app needs to be entirely redesigned and updated. Instead of only offering health statistics, the app ought to motivate users to achieve their fitness objectives and function as a social media hub.

#### Recommendations for Bellabeat membership

* Promote Physical Activity: Utilize the Bellabeat app and wearables to motivate users with personalized challenges and reminders, fostering increased physical activity levels and healthier lifestyles.

* Improve Sleep Quality: Offer tailored sleep guidance and reminders to establish consistent sleep routines, enhancing overall sleep quality and well-being for users.

* Enhance Activity Tracking Features: Provide detailed insights into various activity intensities, empowering users to understand the relationship between their physical activity levels and overall health and fitness goals.

* Target Active Timeframes: Optimize marketing strategies and app features to capitalize on peak activity periods, such as between 5 pm and 7 pm, by delivering targeted motivational messages and workout suggestions.

 * Ensure Data Accuracy: Maintain vigilance over data accuracy and reliability to uphold the integrity of insights derived from Bellabeat devices and apps, ensuring users receive accurate and actionable information.

* Tailored Marketing Campaigns: Tailor marketing campaigns to specific user segments based on demographics, engagement patterns, and health metrics, delivering personalized messages and content that resonate with users' individual needs and preferences.

* Provide User Education and Support: Offer educational resources and support to help users better understand their health data, empowering them to make informed decisions and take control of their well-being.

By combining these strategies and recommendations, Bellabeat can not only communicate the importance of physical activity but also create an engaging and supportive ecosystem that motivates women to lead healthier lives with the help of Bellabeat products and services.


### Conclusion

This case study aimed to analyze Fitbit users' smart device usage in order to pinpoint possible areas of growth for Bellabeat, a wellness brand, and enhance their marketing approach. It can be inferred from the data that most users of fitness smart devices are employed individuals who are unable to fit in the prescribed number of active minutes because of their hectic schedules. It is therefore advised that Bellabeat target working professionals with its marketing strategy and product offerings by offering customized exercise plans and introducing mild inactivity alarms. Furthermore, because sleep has so many advantages, it is advised to highlight how important it is. These suggestions and findings stem from the Fitbit data analysis. However, further analysis into other smart device companies such as the Apple Watch or Garmin is advised to support these results and provide additional insight into Bellabeat’s strategies.
